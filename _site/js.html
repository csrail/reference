<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js</title>
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="./assets/css/style.css">
<!--    <link rel="stylesheet" href="./assets/css/minimum.css">-->
<!--    <script src="./assets/js/script.js" defer></script>-->

</head>
<body>
  <nav>
  <a href="./">home</a>
  <a href="./html">html</a>
  <a href="./css">css</a>
  <a href="./js">js</a>
  <a href="./programming">programming</a>
  <a href="./ide">ide</a>
  <a href="./sys_admin">sys admin</a>
  <a href="./espirit_de_corps">espirit de corps</a>
</nav>

  <h1 id="variables">Variables</h1>
<ul>
  <li><code class="language-plaintext highlighter-rouge">var</code></li>
  <li><code class="language-plaintext highlighter-rouge">let</code></li>
  <li><code class="language-plaintext highlighter-rouge">const</code></li>
  <li><code class="language-plaintext highlighter-rouge">"use strict"</code></li>
</ul>

<p>The use case for a variable can be understood when an expression is evaluated.  Expressions return a result when they are evaluated.  If the result is not stored, it is discarded.  Therefore, variables are used to store the result for later use.</p>

<p>Variables are declared and initialised.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="kd">let</span> <span class="nx">a</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>The variable <strong>a</strong> is declared but not initialised.  Calling <strong>a</strong> returns <code class="language-plaintext highlighter-rouge">undefined</code>.</li>
  <li>The variable <strong>b</strong> is declared and initialised with a value of 10.  Calling <strong>b</strong> returns <code class="language-plaintext highlighter-rouge">10</code>.</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">var</code> should be deprecated as <code class="language-plaintext highlighter-rouge">let</code> and <code class="language-plaintext highlighter-rouge">const</code> supersede its use case.  <code class="language-plaintext highlighter-rouge">var</code> is not block scoped, meaning that it can be accessed outside the block it is declared in.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">if </span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span> <span class="c1">// x is 5</span>

<span class="k">if </span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">y</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">y</span><span class="p">);</span> <span class="c1">//  ReferenceError: y is not defined</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">let</code> is block scoped.  The variable can be declared without being initialised.  The variable is ‘dynamically-typed’ meaning that the data type doesn’t need to be specified upon declaration. <code class="language-plaintext highlighter-rouge">let</code> allows for reassignment.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="kd">let</span> <span class="nx">a</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nx">c</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span> <span class="c1">// reassignment</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">const</code> is block scoped.  The variable must be declared and initialised as <code class="language-plaintext highlighter-rouge">const</code> does not allow for reassignment.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">a</span><span class="p">;</span> <span class="c1">// SyntaxError: Missing initialiser in const declaration</span>
<span class="kd">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="nx">b</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span> <span class="c1">// TypeError: Assignment to constant variable</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">const</code> cannot be redeclared but can be mutated.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[];</span>
<span class="nx">arr</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nx">arr</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span> <span class="c1">// [1, 2]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">'use strict'</code> prevents variables from being declared in your IDE without the keywords <code class="language-plaintext highlighter-rouge">let</code> and <code class="language-plaintext highlighter-rouge">const</code>.  This means that variables can’t accidentally be declared in the global scope</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">words</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">the quick brown fox</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// IDE complains about the implicit declaration of words</span>
<span class="kd">let</span> <span class="nx">sentence</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">over the lazy dog</span><span class="dl">"</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Readings</p>
<ul>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Grammar_and_types#declarations">variable declarations</a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode">strict mode</a></li>
</ul>

<h1 id="functions">Functions</h1>
<p>To define function scope… let <strong>aFunction</strong> exist:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c1">// global scope "space"</span>

<span class="kd">function</span> <span class="nf">aFunction</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// function body "space" of aFunction</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">aFunction</code>’s function scope is equivalent to the function body “space”.  We may define this scope as <code class="language-plaintext highlighter-rouge">s</code>.</li>
  <li>The scope which <code class="language-plaintext highlighter-rouge">aFunction</code> exists is the global scope “space”.  We may define this scope as <code class="language-plaintext highlighter-rouge">s-1</code>, where <code class="language-plaintext highlighter-rouge">-1</code> means outer or “surfacing” by 1 unit.</li>
  <li><code class="language-plaintext highlighter-rouge">aFunction</code> can access variables in the <code class="language-plaintext highlighter-rouge">s</code> space.</li>
  <li><code class="language-plaintext highlighter-rouge">aFunction</code> can access variables in the <code class="language-plaintext highlighter-rouge">s-1</code> space.</li>
</ul>

<hr />

<p>To define function scope… let <strong>aFunction</strong> and <strong>bFunction</strong> exist:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="c1">// global scope "space"</span>

<span class="kd">function</span> <span class="nf">aFunction</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// function body "space" of aFunction</span>
    <span class="kd">function</span> <span class="nf">bFunction</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// function body "space" of bFunction</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Proposition:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">aFunction</code>’s function scope is equivalent to function body “space” of <code class="language-plaintext highlighter-rouge">aFunction</code>.  We define this scope as <code class="language-plaintext highlighter-rouge">s</code></li>
  <li>In the context of <code class="language-plaintext highlighter-rouge">aFunction</code>, the global scope “space” is <code class="language-plaintext highlighter-rouge">s-1</code>.</li>
  <li>In the context of <code class="language-plaintext highlighter-rouge">aFunction</code>, the function body “space” of <code class="language-plaintext highlighter-rouge">bFunction</code> is <code class="language-plaintext highlighter-rouge">s+1</code>, where <code class="language-plaintext highlighter-rouge">+1</code> means inner or “deeper” by 1 unit.</li>
  <li><code class="language-plaintext highlighter-rouge">aFunction</code> can access variables in the<code class="language-plaintext highlighter-rouge">s</code> and <code class="language-plaintext highlighter-rouge">s-1</code> space.</li>
  <li><code class="language-plaintext highlighter-rouge">aFunction</code> cannot access variables in the <code class="language-plaintext highlighter-rouge">s+1</code> space.</li>
</ul>

<p>Contrast:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">bFunction</code>’s function scope is equivalent to function body “space” of <code class="language-plaintext highlighter-rouge">bFunction</code>.  We may define this scope as <code class="language-plaintext highlighter-rouge">s</code>.</li>
  <li>In the context of <code class="language-plaintext highlighter-rouge">bFunction</code>, <code class="language-plaintext highlighter-rouge">aFunction</code>’s scope is <code class="language-plaintext highlighter-rouge">s-1</code>.</li>
  <li>In the context of <code class="language-plaintext highlighter-rouge">bFunction</code>, the global scope is <code class="language-plaintext highlighter-rouge">s-1 -1</code>, or <code class="language-plaintext highlighter-rouge">s-2</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">bFunction</code> can access variables in the <code class="language-plaintext highlighter-rouge">s-1</code> and <code class="language-plaintext highlighter-rouge">s-2</code> space.</li>
</ul>

<p>Terms:</p>
<ul>
  <li>In the context of a function’s scope being <code class="language-plaintext highlighter-rouge">s</code>, the function may access variables in the <code class="language-plaintext highlighter-rouge">s</code> or <code class="language-plaintext highlighter-rouge">s-1</code> or <code class="language-plaintext highlighter-rouge">s-n</code> scope, where <code class="language-plaintext highlighter-rouge">n</code> is an integer.</li>
  <li>However, the function cannot access variables in any <code class="language-plaintext highlighter-rouge">s+1</code> or <code class="language-plaintext highlighter-rouge">s+n</code> scopes.</li>
  <li><code class="language-plaintext highlighter-rouge">aFunction</code>’s inability to access variables in the <code class="language-plaintext highlighter-rouge">bFunction</code> scope, while <code class="language-plaintext highlighter-rouge">bFunction</code> is able to access variables in the <code class="language-plaintext highlighter-rouge">aFunction</code> scope is the basis of a closure.</li>
  <li>Note: if variables are named the same in multiple scopes, then the function will first look for the variable at the scope closest to <code class="language-plaintext highlighter-rouge">s</code> before moving to <code class="language-plaintext highlighter-rouge">s-n</code></li>
</ul>

<p>Readings:</p>
<ul>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions#function_scope">function scope</a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions#nested_functions_and_closures">nested functions and closures</a></li>
</ul>

<h1 id="functions-1">Functions</h1>
<ul>
  <li>define functions either as a function declaration or function expression</li>
  <li>passing different data types as arguments into functions: strings, numbers, arrays, objects, functions</li>
  <li>function expression use case: named function expression (“I’ll keep this one for later”)</li>
  <li>function expression use case: anonymous function (“function on the fly, forever unknown”)</li>
  <li>function expression use case: immediate invocation (“ka-me-ha-meee-HA!”, immediately invoked function expression)</li>
  <li>shorthand function expressions: arrow syntax (“gotta go fast, haha chilli dogs”)</li>
  <li>shorthand arrow function expressions behave differently to long-form function expressions</li>
  <li>callback functions</li>
  <li>conditional function declaration based on if statement and function expression</li>
  <li>methods are functions that belong to an object</li>
  <li>program execution sequence: function definition -&gt; function call -&gt; function execution</li>
  <li>a call must be in the same scope as the function to succeed</li>
  <li>function hoisting, thesis: the call to a function may be evaluated before its function declaration</li>
  <li>function hoisting, contrast: function expressions must always be evaluated first before a call is made</li>
  <li>when a function is called, arguments are passed</li>
  <li>when a function is declared or expressed, parameters are defined</li>
</ul>

<p>Readings:</p>
<ul>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions">functions (guide)</a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions">functions (reference)</a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function">function declaration</a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/function">function expression</a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">shorthand function expressions</a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function">callback functions</a></li>
</ul>

<h1 id="understanding-bind">Understanding .bind</h1>
<ul>
  <li>The below code block demonstrates how <code class="language-plaintext highlighter-rouge">this</code> changes inside a constructor function of a <strong>class</strong> and a <strong>callback function</strong>.</li>
  <li>The statement on line 15 will affect how line 20 is parsed.</li>
  <li>Without <code class="language-plaintext highlighter-rouge">.bind(this)</code>, the <code class="language-plaintext highlighter-rouge">this</code> in <code class="language-plaintext highlighter-rouge">#removeBook</code> refers to the event that was triggered when clicking <code class="language-plaintext highlighter-rouge">#button</code>.</li>
  <li>With <code class="language-plaintext highlighter-rouge">.bind(this)</code>, the <code class="language-plaintext highlighter-rouge">this</code> in <code class="language-plaintext highlighter-rouge">#removeBook</code> refers to the <code class="language-plaintext highlighter-rouge">LibraryController</code> instance.
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">LibraryController</span> <span class="p">{</span>
  <span class="err">#</span><span class="nx">library</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="err">#</span><span class="nx">books</span> <span class="o">=</span> <span class="p">[</span>
      <span class="k">new</span> <span class="nc">Book</span><span class="p">(),</span>
      <span class="k">new</span> <span class="nc">Book</span><span class="p">(),</span>
      <span class="k">new</span> <span class="nc">Book</span><span class="p">(),</span>
  <span class="p">]</span>
  <span class="err">#</span><span class="nx">button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">button</span><span class="dl">'</span><span class="p">)</span>
    
  <span class="nf">constructor</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">for </span><span class="p">(</span><span class="kd">const</span> <span class="nx">book</span> <span class="k">of</span> <span class="err">#</span><span class="nx">books</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">library</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="nx">book</span><span class="p">)</span>
      <span class="p">}</span>
        
      <span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">button</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">removeBook</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="k">this</span><span class="p">))</span>
  <span class="p">}</span>
    
  <span class="err">#</span><span class="nf">removeBook</span><span class="p">()</span> <span class="p">{</span>
      <span class="c1">// logic here to get the index of the book to remove from the #this.library model</span>
      <span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">library</span><span class="p">.</span><span class="nf">splice</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
      <span class="c1">// logic here to remove the node object from the GUI display</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

</body>
</html>
