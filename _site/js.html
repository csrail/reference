<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js</title>
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="./assets/css/style.css">
<!--    <link rel="stylesheet" href="./assets/css/minimum.css">-->
<!--    <script src="./assets/js/script.js" defer></script>-->

</head>
<body>
  <nav>
  <a href="./">home</a>
  <a href="./html">html</a>
  <a href="./css">css</a>
  <a href="./js">js</a>
  <a href="./programming">programming</a>
  <a href="./espirit_de_corps">espirit de corps</a>
</nav>

  <h1>js</h1>
  <h2 id="understanding-bind">Understanding .bind</h2>

<ul>
  <li>The below code block demonstrates how <code class="language-plaintext highlighter-rouge">this</code> changes inside a constructor function of a <strong>class</strong> and a <strong>callback function</strong>.</li>
  <li>The statement on line 15 will affect how line 20 is parsed.</li>
  <li>Without <code class="language-plaintext highlighter-rouge">.bind(this)</code>, the <code class="language-plaintext highlighter-rouge">this</code> in <code class="language-plaintext highlighter-rouge">#removeBook</code> refers to the event that was triggered when clicking <code class="language-plaintext highlighter-rouge">#button</code>.</li>
  <li>With <code class="language-plaintext highlighter-rouge">.bind(this)</code>, the <code class="language-plaintext highlighter-rouge">this</code> in <code class="language-plaintext highlighter-rouge">#removeBook</code> refers to the <code class="language-plaintext highlighter-rouge">LibraryController</code> instance.
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">LibraryController</span> <span class="p">{</span>
  <span class="err">#</span><span class="nx">library</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="err">#</span><span class="nx">books</span> <span class="o">=</span> <span class="p">[</span>
      <span class="k">new</span> <span class="nc">Book</span><span class="p">(),</span>
      <span class="k">new</span> <span class="nc">Book</span><span class="p">(),</span>
      <span class="k">new</span> <span class="nc">Book</span><span class="p">(),</span>
  <span class="p">]</span>
  <span class="err">#</span><span class="nx">button</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">button</span><span class="dl">'</span><span class="p">)</span>
    
  <span class="nf">constructor</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">for </span><span class="p">(</span><span class="kd">const</span> <span class="nx">book</span> <span class="k">of</span> <span class="err">#</span><span class="nx">books</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">library</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="nx">book</span><span class="p">)</span>
      <span class="p">}</span>
        
      <span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">button</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">removeBook</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="k">this</span><span class="p">))</span>
  <span class="p">}</span>
    
  <span class="err">#</span><span class="nf">removeBook</span><span class="p">()</span> <span class="p">{</span>
      <span class="c1">// logic here to get the index of the book to remove from the #this.library model</span>
      <span class="k">this</span><span class="p">.</span><span class="err">#</span><span class="nx">library</span><span class="p">.</span><span class="nf">splice</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
      <span class="c1">// logic here to remove the node object from the GUI display</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

</body>
</html>
