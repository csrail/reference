<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ide</title>
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="./assets/css/style.css">
<!--    <link rel="stylesheet" href="./assets/css/minimum.css">-->
<!--    <script src="./assets/js/script.js" defer></script>-->

</head>
<body>
  <nav>
  <a href="./">home</a>
  <a href="./html">html</a>
  <a href="./css">css</a>
  <a href="./js">js</a>
  <a href="./programming">programming</a>
  <a href="./ide">ide</a>
  <a href="./sys_admin">sys admin</a>
  <a href="./espirit_de_corps">espirit de corps</a>
  <a href="./polis">πόλις</a>
  <a href="./oikos">οίκος</a>
  <a href="./glossa">γλώσσα</a>
</nav>

  <h1 id="emacs">emacs</h1>

<h1 id="npm-webpack">npm, Webpack</h1>
<p>This post describes how to progressively move towards automating the build and reloading process used in a development environment.</p>

<ul>
  <li>Transcompiling javascript files from their original source as per the webpack.config.js file is done via the command <code class="language-plaintext highlighter-rouge">npx webpack --config webpack.config.js</code>.  The webpage is manually visited by opening the html file.</li>
  <li>This can be abstracted to the command <code class="language-plaintext highlighter-rouge">npm run build</code> when the <code class="language-plaintext highlighter-rouge">package.json</code> scripts node is updated.  The webpage is manually visited.</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
<ul>
  <li>The transcompiling component can be automated by the command <code class="language-plaintext highlighter-rouge">npm run watch</code> when the <code class="language-plaintext highlighter-rouge">package.json</code> scripts node is updated.  The webpage is manually visited.</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"watch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack --watch"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>Automated reloading of the webpage requires a web server.  Run <code class="language-plaintext highlighter-rouge">npm install --save-dev webpack-dev-server</code> in the command-line to install the package and include it in the <code class="language-plaintext highlighter-rouge">package.json</code> devDependencies node.  Then run <code class="language-plaintext highlighter-rouge">npm run start</code> when the <code class="language-plaintext highlighter-rouge">package.json</code> scripts node is updated.  In contrast, the webpage is now automatically visited at a particular port which looks for a html file, rather than specifically selecting a html file.  Transcompilation is also handled by the web server.</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"watch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack --watch"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack server --open"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"webpack-dev-server"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^4.15.1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Readings:</p>
<ul>
  <li><a href="https://webpack.js.org/guides/getting-started/">npm run build</a></li>
  <li><a href="https://webpack.js.org/guides/development/#using-watch-mode">npm run watch</a></li>
  <li><a href="https://webpack.js.org/guides/development/#using-webpack-dev-server">npm run start</a></li>
</ul>

<h1 id="vim">Vim</h1>
<ul>
  <li><code class="language-plaintext highlighter-rouge">:help subsitute</code></li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">:help range</code></p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">:%s/displayMenu/buildMenu/g</code></li>
  <li><code class="language-plaintext highlighter-rouge">%</code> means the entire file</li>
  <li><code class="language-plaintext highlighter-rouge">displayMenu</code> was the regex to match to</li>
  <li><code class="language-plaintext highlighter-rouge">buildMenu</code> was the string to replace the regex with</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">g</code> means ‘globally’ — but only within the given range</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">ysiw'</code>, surround word with single quote marks.</li>
</ul>

<h1 id="vim-1">Vim</h1>

<p><code class="language-plaintext highlighter-rouge">:help</code> opens the vim reference manual
<code class="language-plaintext highlighter-rouge">/</code> to begin searching bookmarks in the <code class="language-plaintext highlighter-rouge">:pattern</code></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;leader&gt;</code> key is mapped to backslash by default, and can be configured by changing the <code class="language-plaintext highlighter-rouge">mapleader</code> variable</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">:help leader</code> for more info</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">:help plugin</code> and <code class="language-plaintext highlighter-rouge">:help packages</code> for documentation on setting up plugins</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">~/.vim/plugin/</code> root plugin directory, place subdirectories of the plugins needed in here</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">CTRL+W</code> and <code class="language-plaintext highlighter-rouge">ijkl</code> direct key to change window focus if there are multiple windows</p>
  </li>
  <li>Set up <strong>vim-plug</strong></li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">~/.vim/autload</code> directory which starts plugins on vim loading.  <code class="language-plaintext highlighter-rouge">plug.vim</code> file is placed here</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">~/.vim/plugged</code> directory where plugins specified in <code class="language-plaintext highlighter-rouge">.vimrc</code> file are installed following <code class="language-plaintext highlighter-rouge">:PlugInstall</code></li>
  <li>Configure <code class="language-plaintext highlighter-rouge">.vimrc</code> file with header <code class="language-plaintext highlighter-rouge">call plug#begin()</code> and footer <code class="language-plaintext highlighter-rouge">call plug#end()</code>, placing wanted plugins in this block with the notation <code class="language-plaintext highlighter-rouge">Plug 'author/plugin-name'</code></li>
</ul>

<div class="language-vim highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre> <span class="k">call</span> plug#begin<span class="p">()</span>
 
  
 Plug <span class="s1">'tpope/vim-surround'</span>
 Plug <span class="s1">'easymotion/vim-easymotion'</span>
  
 <span class="k">call</span> plug#end<span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li><strong>vim-easy-motion</strong></li>
  <li><code class="language-plaintext highlighter-rouge">:help easymotion.txt</code> to open help documentation</li>
  <li>Example config which reduces the leader key usage by 50%, from 2 to 1 keypresses:</li>
</ul>

<div class="language-vim highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c">" &lt;Leader&gt;f{char} to move to {char}</span>
<span class="nb">map</span>  <span class="p">&lt;</span>Leader<span class="p">&gt;</span><span class="k">f</span> <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>easymotion<span class="p">-</span><span class="k">bd</span><span class="p">-</span><span class="k">f</span><span class="p">)</span>
nmap <span class="p">&lt;</span>Leader<span class="p">&gt;</span><span class="k">f</span> <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>easymotion<span class="p">-</span>overwin<span class="p">-</span><span class="k">f</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>In Pycharm you need to install IdeaVim-EasyMotion plugin which also installs AceJump.</li>
  <li>The below configuration cannot work with the above configuration, there’s a bug which prevents the interface from parsing correctly; would need to study the source to understand the bug before fixing.
    <div class="language-vim highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">map</span> <span class="p">&lt;</span>Leader<span class="p">&gt;</span> <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>easymotion<span class="p">-</span>prefix<span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div>    </div>
  </li>
</ul>

<h1 id="npm-webpack-1">npm, Webpack</h1>

<p>The <code class="language-plaintext highlighter-rouge">npm init</code> command initialises a new project in the current folder, in other words, this folder is now the root directory of the project.  A <strong>package.json</strong> file is created in this space which functions as a config file for the project during development builds and in production builds.</p>

<p>Within the <code class="language-plaintext highlighter-rouge">scripts</code> node, you can specify special keywords to use in the command <code class="language-plaintext highlighter-rouge">npm run keyword</code>.  T: Is it possible to run <code class="language-plaintext highlighter-rouge">webpack --watch</code> outside of <code class="language-plaintext highlighter-rouge">npm run watch</code>?</p>

<p>There are also specifications for dependencies in the developer environment <code class="language-plaintext highlighter-rouge">devDevependencies</code>, and in the production environment <code class="language-plaintext highlighter-rouge">Dependencies</code> nodes.  When running <code class="language-plaintext highlighter-rouge">npm install &lt;package&gt; --save-dev</code>, this adds an entry to the <code class="language-plaintext highlighter-rouge">devDependencies</code>; while <code class="language-plaintext highlighter-rouge">npm install &lt;package&gt; --save</code> adds an entry into <code class="language-plaintext highlighter-rouge">Dependencies</code>.  Packages are locally installed, and can be inspected, in the <strong>node_modules</strong> folder.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"restaurant"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"index.js"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"watch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack --watch"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="s2">"echo </span><span class="se">\"</span><span class="s2">Error: no test specified</span><span class="se">\"</span><span class="s2"> &amp;&amp; exit 1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"license"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ISC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"webpack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^5.88.2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"webpack-cli"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^5.1.4"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Webpack, <em>the bundler of all web assets</em>.  Webpack will take multiple files, process them and output them into files, of fewer numer and smaller size, for application consumption.  Webpack must interact with multiple file types but natively only reads javascript and json, so separate <strong>loaders</strong> are specified to process the different file types — this is represented under the <code class="language-plaintext highlighter-rouge">module</code> node.</p>

<p>Initial configuration of webpack.config.js handles the <code class="language-plaintext highlighter-rouge">entry</code> and <code class="language-plaintext highlighter-rouge">output</code>.  The <code class="language-plaintext highlighter-rouge">entry</code> node specifies the source files that are fed into webpack for processing.  While <code class="language-plaintext highlighter-rouge">output</code> specifies the destination file that webpack produces for distribution.  This is implicitly stated via the <code class="language-plaintext highlighter-rouge">src</code> and <code class="language-plaintext highlighter-rouge">dist</code> folders respectively.</p>

<p>The <code class="language-plaintext highlighter-rouge">devtool</code> node specifies the type of source mapping available.  Post-processing, the initial source code is transcompiled by webpack into the a different kind of source, one that begets performance at the cost of readability.  Source mapping relates the two source codes, with increased readability in the source map increasing build times.  Hence, the <code class="language-plaintext highlighter-rouge">devtool</code> node wil take many different values each with their different tradeoffs on build performance and the corresponding source map readability.</p>

<p>The <code class="language-plaintext highlighter-rouge">watch</code> node of webpack.config.js in conjunction the <code class="language-plaintext highlighter-rouge">"scripts": "watch":</code> node in package.json allows you to run <code class="language-plaintext highlighter-rouge">npm run watch</code>.</p>

<p>The <code class="language-plaintext highlighter-rouge">clean</code> node can help remove un-needed files in a project following a build, but this must be configured further to avoid stale, but absolutely necessary` files from being cleaned up.  Oopsies!</p>

<p>Loaders are specified in the <code class="language-plaintext highlighter-rouge">module</code> -&gt; <code class="language-plaintext highlighter-rouge">rules</code> node.  Each rule has a <code class="language-plaintext highlighter-rouge">test</code> node and a <code class="language-plaintext highlighter-rouge">use</code> node.  The <code class="language-plaintext highlighter-rouge">test</code> looks for files described via regular expression, and processes them in the loaders specified under <code class="language-plaintext highlighter-rouge">use</code>.  Multiple loaders can be used to process the files in a sequence.</p>

<p>By using the <code class="language-plaintext highlighter-rouge">plugins</code> node, webpack’s capabilities can be extended further.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="c1">// webpack.config.js</span>
<span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">entry</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/index.js</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">main.js</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">path</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nf">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">dist</span><span class="dl">'</span><span class="p">),</span>
        <span class="c1">// clean: true,</span>
    <span class="p">},</span>
    <span class="na">devtool</span><span class="p">:</span> <span class="dl">'</span><span class="s1">eval</span><span class="dl">'</span><span class="p">,</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Readings:</p>
<ul>
  <li><a href="https://nodesource.com/blog/an-absolute-beginners-guide-to-using-npm/">npm init</a></li>
  <li><a href="https://webpack.js.org/concepts/">webpack concepts</a></li>
  <li><a href="https://webpack.js.org/configuration/devtool/">webpack devtool</a></li>
  <li><a href="https://webpack.js.org/guides/development/">webpack guide: development, webpack watch</a></li>
</ul>

<h1 id="vim-2">Vim</h1>
<ul>
  <li><code class="language-plaintext highlighter-rouge">caw</code>, change a word</li>
  <li><code class="language-plaintext highlighter-rouge">cs</code>, change surrounding quotes or brackets
    <ul>
      <li><code class="language-plaintext highlighter-rouge">cs([</code></li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">ci</code>, change inner contents of quotes or brackets
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ci"</code></li>
      <li><code class="language-plaintext highlighter-rouge">ci(</code></li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">&lt;ESC&gt;</code> move into Normal mode</li>
  <li><code class="language-plaintext highlighter-rouge">O</code> open new line above cursor</li>
  <li><code class="language-plaintext highlighter-rouge">o</code> open new line below cursor</li>
  <li><code class="language-plaintext highlighter-rouge">gg</code>, go to first line</li>
  <li><code class="language-plaintext highlighter-rouge">GG</code>, go to last line</li>
  <li><code class="language-plaintext highlighter-rouge">10gg</code>, go to 10th line</li>
  <li><code class="language-plaintext highlighter-rouge">10G</code>, go to 10th line</li>
  <li><code class="language-plaintext highlighter-rouge">d</code>, delete operator</li>
  <li><code class="language-plaintext highlighter-rouge">dd</code>, delete entire line</li>
  <li><code class="language-plaintext highlighter-rouge">w</code>, motion to start of next word, excludes first character</li>
  <li><code class="language-plaintext highlighter-rouge">e</code>, motion to end of current word, includes last character</li>
  <li><code class="language-plaintext highlighter-rouge">$</code>, motion to end of line, includes last character</li>
  <li><code class="language-plaintext highlighter-rouge">u</code>, undo command</li>
  <li><code class="language-plaintext highlighter-rouge">CTRL-R</code>, redo command (conflicts with Pycharm default find and replace)</li>
  <li><code class="language-plaintext highlighter-rouge">/</code>, search command, search for a phrase then press <code class="language-plaintext highlighter-rouge">&lt;ENTER&gt;</code>; remembers phrase even when returning from insert mode to normal mode so you can press <code class="language-plaintext highlighter-rouge">n</code> and <code class="language-plaintext highlighter-rouge">N</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">n</code>, when phrase is searched, press this to find the next entry</li>
  <li><code class="language-plaintext highlighter-rouge">N</code>, when phrase is searched, press this to find previous entry (inverse next)</li>
  <li><code class="language-plaintext highlighter-rouge">%</code>, find matching parentheses, place cursor on parentheses to use</li>
</ul>

<h1 id="pycharm">Pycharm</h1>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Ctrl + Shift + n</code>, navigate files in your directory tree with keypresses.</li>
  <li><code class="language-plaintext highlighter-rouge">Ctrl + Alt + Shift + n</code> navigate to symbols; need to use this to search for factory functions as they don’t count as classes.</li>
  <li><code class="language-plaintext highlighter-rouge">Shift + Alt + 7</code>, finds the target’s usages in all places.  A comprehensive lookup which addresses the shortcomings of <code class="language-plaintext highlighter-rouge">F4</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">F4</code>, jumps to target’s source.  For javascript the source is the returned function for public use from a factory function.  Pycharm seems unable to go a step further and look for the named function expression the symbol belongs to.</li>
  <li><code class="language-plaintext highlighter-rouge">Ctrl+B</code>, go to declaration or usages.</li>
  <li><code class="language-plaintext highlighter-rouge">Shift + Left-Click</code> on the gutter to create a non-suspending breakpoint that logs the evaluation.</li>
  <li><code class="language-plaintext highlighter-rouge">Ctrl+E</code>, to view recent files.</li>
</ul>

</body>
</html>
